{"version":3,"sources":["node_modules/atoa/atoa.js","node_modules/ticky/ticky-browser.js","node_modules/contra/debounce.js","node_modules/contra/emitter.js","node_modules/custom-event/index.js","node_modules/crossvent/src/eventmap.js","node_modules/crossvent/src/crossvent.js","node_modules/dragula/classes.js","node_modules/dragula/dragula.js","websocket.js"],"names":["input","document","getElementById","currentUser","innerHTML","split","outputArea","addTextButton","addImageButton","addVideoButton","socketRoute","value","dragula","require","BachItem","React","Component","props","valueElement","type","user","userElement","deleteButtonElement","delete","fontSize","flexGrow","width","textAlign","BachWidget","command","socket","send","sortMethod","localStorage","getItem","state","items","users","initSocket","itemContainerRef","createRef","timeout","current","WebSocket","onopen","event","onclick","onkeydown","key","onmessage","tokens","JSON","parse","data","filter","t","setState","onclose","console","log","setTimeout","method","a","b","setItem","sortMethods","map","setSortMethod","margin","sort","getComparisonFunctionFor","item","id","onDeleteItem","ReactDOM","render","createElement"],"mappings":"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","file":"websocket.js","sourceRoot":"..","sourcesContent":["module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n\n    // truthy check fixes #239, equality fixes #207, fixes #501\n    if ((e.clientX !== void 0 && Math.abs(e.clientX - _moveX) <= (o.slideFactorX || 0)) &&\n      (e.clientY !== void 0 && Math.abs(e.clientY - _moveY) <= (o.slideFactorY || 0))) {\n      return;\n    }\n\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e) || 0;\n      var clientY = getCoord('clientY', e) || 0;\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  point = point || {};\n  var state = point.className || '';\n  var el;\n  point.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  point.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","const input = document.getElementById('chat-input');\nconst currentUser = document.getElementById('user').innerHTML.split(\" \")[1];\nconst outputArea = document.getElementById('chat-area');\nconst addTextButton = document.getElementById('add-text');\nconst addImageButton = document.getElementById('add-image');\nconst addVideoButton = document.getElementById('add-video');\nconst socketRoute = document.getElementById('ws-route').value;\n\nconst dragula = require('dragula');\n\nclass BachItem extends React.Component {\n    constructor(props){\n        super(props)\n    }\n\n    render() {\n        const {type, value, user} = this.props.value;\n\n        const userElement =  <i>{user}</i>\n        const deleteButtonElement = <button type=\"button\" className=\"close\" onClick={this.props.delete}>&times;</button>\n        let valueElement;\n\n        if(type ==\"textItem\") \n            valueElement = <p style={{fontSize: \"20px\", flexGrow:1}} className=\"bg-light\"\n                                               className=\"card-text m-3\">{value}</p>\n       \n        else if(type == \"imageItem\") \n            valueElement = <img src={value} className=\"card-img\"></img>\n        \n        else valueElement = <iframe src={value} className=\"card-img\"></iframe>\n\n        return  <div style={{width: \"300px\", textAlign: \"center\"}} className=\"card m-3\">\n                    <div className=\"card-header p-2 d-flex justify-content-between\"> \n                        {userElement} {deleteButtonElement}\n                    </div>\n                    <div className=\"card-body\">\n                        {valueElement}\n                    </div>\n                </div> \n\n    }\n}\n\nclass BachWidget extends React.Component {\n    sortMethods = ['value', 'type', 'user']\n    constructor(props) {\n        super(props);\n        const sortMethod = localStorage.getItem('sortMethod');\n        this.state = {items: [], users: [], sortMethod: sortMethod ? sortMethod: \"value\"}\n        this.initSocket();\n        this.itemContainerRef = React.createRef()\n        this.timeout = 125;\n    }\n    \n    componentDidMount() {\n         dragula([this.itemContainerRef.current]);\n    }\n\n    initSocket(){\n        \n        const socket = new WebSocket(socketRoute);\n        this.socket = socket;\n        socket.onopen = (event) => {\n            this.timeout = 250;\n            socket.send(`tell-user-${currentUser}`)\n        }\n            \n        addTextButton.onclick = () => {\n            socket.send(`tells-textItem-${input.value}`)\n            input.value = '';\n        }\n        \n        addImageButton.onclick = () => {\n            socket.send(`tells-imageItem-${input.value}`)\n            input.value = '';\n        }\n        \n        addVideoButton.onclick = () => {\n            socket.send(`tells-videoItem-${input.value}`)\n            input.value = '';\n        }\n        input.onkeydown= (event) => {\n            if (event.key === 'Enter'){\n                addTextButton.onclick()\n            }\n        }\n        socket.onmessage = event => {\n            const tokens = JSON.parse(event.data);\n            const items = tokens.filter(t => t.type !== \"user\")\n            const users = tokens.filter(t => t.type == \"user\")\n            this.setState({ ...this.state, items, users,})\n        }\n\n        socket.onclose = ()  => {\n            this.timeout += this.timeout;\n            console.log(`Socket is closed. Reconnect will be attempted in ${this.timeout} milliseconds.`);\n            setTimeout(() =>  {\n              this.initSocket();\n            }, this.timeout);\n        };\n    }\n\n    getComparisonFunctionFor(method){\n       return (a,b)=> a[method] == b[method] ? 0 : a[method] > b[method] ? 1 : -1\n    }\n\n    onDeleteItem = ({type, value}) => () => {\n        const command = `gets-${type}-${value}`\n        this.socket.send(command)\n    }\n    \n    setSortMethod(method){\n        localStorage.setItem('sortMethod', method)\n        this.setState({...this.state, sortMethod: method})\n    }\n    render() {\n        return <div>\n            <div className=\"d-flex justify-content-between pt-3\">\n                <div className=\"\">\n                    <div className=\"btn-group\">\n                        {this.sortMethods.map(method => \n                            <button onClick={() => this.setSortMethod(method)} key={method} className={`btn btn-outline-secondary${this.state.sortMethod == method ? ' active': ''}`}>Sort by {method}</button>\n                        )}\n                    </div>\n                </div>\n                <div className=\"d-flex\">\n                    {this.state.users.map(({value:user}) => \n                        <i key={user} className={`btn btn-${user == currentUser ? 'info' : 'secondary'} ml-1 mr-1`}>{user}</i>\n                    )}\n                </div>\n            </div>\n            <div style={{width: \"80%\", margin: \"auto\"}}>\n                <div  ref={this.itemContainerRef} className=\"card-columns\">\n                    {this.state.items.sort(this.getComparisonFunctionFor(this.state.sortMethod)).map((item, id) => \n                    <BachItem id={id} key={item.value} value={item} delete={this.onDeleteItem(item)}>\n                    </BachItem>\n                    )}\n                </div>\n            </div>\n        </div>\n\n    }\n}\n  \nReactDOM.render(\n    React.createElement(BachWidget, {}, null),\n    document.getElementById('root')\n);\n"]}